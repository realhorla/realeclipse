const a0_0x545bc1=a0_0x292a;(function(_0x511021,_0x391ed7){const _0x228d91=a0_0x292a,_0x249449=_0x511021();while(!![]){try{const _0x1b67b2=-parseInt(_0x228d91(0x1b9))/0x1*(parseInt(_0x228d91(0x1b6))/0x2)+-parseInt(_0x228d91(0x1ac))/0x3*(parseInt(_0x228d91(0x1ae))/0x4)+-parseInt(_0x228d91(0x1b8))/0x5*(parseInt(_0x228d91(0x1aa))/0x6)+-parseInt(_0x228d91(0x1a1))/0x7*(parseInt(_0x228d91(0x1b5))/0x8)+parseInt(_0x228d91(0x1b0))/0x9*(-parseInt(_0x228d91(0x1b7))/0xa)+-parseInt(_0x228d91(0x1a4))/0xb+parseInt(_0x228d91(0x195))/0xc;if(_0x1b67b2===_0x391ed7)break;else _0x249449['push'](_0x249449['shift']());}catch(_0x5d2203){_0x249449['push'](_0x249449['shift']());}}}(a0_0xdad8,0x2bc98));import{GoogleGenerativeAI}from'@google/generative-ai';function a0_0xdad8(){const _0x48b833=['text','geminiApiKey','YEedT','response','parse','videoUrl','getGenerativeModel','push','zwyAJ','15980040zypCAB','Describe\x20this\x20image\x20in\x20detail.','emDws','https://okatsu-rolezapiiz.vercel.app/ai/txt2video?text=','utf8','rOgGM','generateContent','TUFDC','lTTZW','No\x20response\x20received\x20from\x20Gemini\x20AI.','MdFra','emojis.json','212156rngGua','message','mimetype','3365472ZcKHbr','ohnNg','base64','eyhVn','gemini-2.5-flash','XARxv','78QCvZIw','concat','324516opZcIO','join','12fhkrxN','Gemini\x20API\x20key\x20not\x20found!\x20Please\x20set\x20geminiApiKey\x20in\x20settings.js.','846TnYEHS','result','image/jpeg','image','QYUvX','24PuUlxj','10AwnGIM','14770ZsfLfg','53930rbmpiy','30374vhksaP','data'];a0_0xdad8=function(){return _0x48b833;};return a0_0xdad8();}import{downloadContentFromMessage}from'@whiskeysockets/baileys';import a0_0x514e08 from'axios';import a0_0x36c4fc from'fs';import a0_0x51685d from'path';import a0_0x5b435e from'../settings.js';function a0_0x292a(_0x4fc32e,_0x40fbc5){const _0xdad8cf=a0_0xdad8();return a0_0x292a=function(_0x292af1,_0x5bac74){_0x292af1=_0x292af1-0x18f;let _0x4ae0aa=_0xdad8cf[_0x292af1];return _0x4ae0aa;},a0_0x292a(_0x4fc32e,_0x40fbc5);}const emojisPath=a0_0x51685d[a0_0x545bc1(0x1ad)](process['cwd'](),'data',a0_0x545bc1(0x1a0)),emojis=JSON[a0_0x545bc1(0x190)](a0_0x36c4fc['readFileSync'](emojisPath,a0_0x545bc1(0x199)));export async function analyzeImageWithVision(_0x131da8,_0x78775f=a0_0x545bc1(0x196)){const _0xec642c=a0_0x545bc1,_0x44cc83={'ohnNg':function(_0x35a570,_0x391796,_0x5dea6c){return _0x35a570(_0x391796,_0x5dea6c);},'XARxv':_0xec642c(0x1af),'AoYjH':_0xec642c(0x1a8),'lTTZW':_0xec642c(0x1a6),'TUFDC':_0xec642c(0x1b2),'vkBEN':_0xec642c(0x19f)};try{const _0x3946ec=await _0x44cc83[_0xec642c(0x1a5)](downloadContentFromMessage,_0x131da8,_0xec642c(0x1b3)),_0x188bb3=[];for await(const _0x39bc18 of _0x3946ec){_0x188bb3[_0xec642c(0x193)](_0x39bc18);}const _0x5f0bed=Buffer[_0xec642c(0x1ab)](_0x188bb3),_0x40e5b5=a0_0x5b435e[_0xec642c(0x1bc)];if(!_0x40e5b5)throw new Error(_0x44cc83[_0xec642c(0x1a9)]);const _0x30492e=new GoogleGenerativeAI(_0x40e5b5),_0x5cab17=_0x30492e[_0xec642c(0x192)]({'model':_0x44cc83['AoYjH']}),_0x8e9138=[{'inlineData':{'data':_0x5f0bed['toString'](_0x44cc83[_0xec642c(0x19d)]),'mimeType':_0x131da8[_0xec642c(0x1a3)]||_0x44cc83[_0xec642c(0x19c)]}}],_0x5d32d7=await _0x5cab17[_0xec642c(0x19b)]([_0x78775f,..._0x8e9138]),_0x499b07=await _0x5d32d7[_0xec642c(0x18f)],_0x54ca79=_0x499b07[_0xec642c(0x1bb)]();if(!_0x54ca79){if(_0xec642c(0x1bd)===_0x44cc83['vkBEN'])_0x25d185['push'](_0x5a2f9d);else throw new Error(_0xec642c(0x19e));}return{'success':!![],'description':_0x54ca79,'emoji':emojis};}catch(_0x1e0931){return{'success':![],'error':_0x1e0931['message'],'emoji':emojis};}}export async function generateTextToVideo(_0x5170cb){const _0x497401=a0_0x545bc1,_0x4553ea={'QLhvW':function(_0x77268c,_0x16e9f8){return _0x77268c(_0x16e9f8);},'ocEOs':'wjNUw','QYUvX':_0x497401(0x194),'eyhVn':function(_0x40a19a,_0x24af76){return _0x40a19a!==_0x24af76;},'ipqEY':'dFkfR'};try{const _0x1009ec=_0x497401(0x198)+_0x4553ea['QLhvW'](encodeURIComponent,_0x5170cb),_0x55418d=await a0_0x514e08['get'](_0x1009ec,{'timeout':0xea60,'responseType':'json'});if(_0x55418d[_0x497401(0x1ba)]&&_0x55418d[_0x497401(0x1ba)][_0x497401(0x191)])return _0x497401(0x19a)===_0x4553ea['ocEOs']?{'success':![],'error':_0x1679af[_0x497401(0x1a2)],'emoji':_0x1d192b}:{'success':!![],'videoUrl':_0x55418d[_0x497401(0x1ba)]['videoUrl'],'prompt':_0x5170cb,'emoji':emojis};else{if(_0x55418d[_0x497401(0x1ba)]&&_0x55418d[_0x497401(0x1ba)]['result'])return _0x4553ea['QYUvX']===_0x4553ea[_0x497401(0x1b4)]?{'success':!![],'videoUrl':_0x55418d[_0x497401(0x1ba)][_0x497401(0x1b1)],'prompt':_0x5170cb,'emoji':emojis}:{'success':!![],'videoUrl':_0x57c952['data'][_0x497401(0x1b1)],'prompt':_0x4b6b8a,'emoji':_0x5daa42};else throw new Error('No\x20video\x20URL\x20found\x20in\x20API\x20response');}}catch(_0x16d574){return _0x4553ea[_0x497401(0x1a7)](_0x4553ea['ipqEY'],_0x497401(0x197))?{'success':![],'error':_0x16d574['message'],'emoji':emojis}:{'success':![],'error':_0x46bb1d[_0x497401(0x1a2)],'emoji':_0x47d40e};}}